<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--VERSIÃ“N:1.0-->
<!-- AUTOR: 2ÂºSMR (ABRAHAM FIGUEROE,HUGO FERNANDEZ,ANGEL PÃ‰REZ)-->

<title>Horario IES PIO BAROJA</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@700&family=Quicksand:wght@500;700&family=Orbitron:wght@900&display=swap');

  /* --- 1. ESTILOS GENERALES Y FONDO --- */
  body {
    margin: 0;
    padding: 20px;
    font-family: 'Quicksand', sans-serif;
    background-color: #f7fcfc;
    /* PatrÃ³n de nieve suave */
    background-image: radial-gradient(#e0f7fa 10%, transparent 11%), radial-gradient(#e0f7fa 10%, transparent 11%);
    background-size: 60px 60px;
    background-position: 0 0, 30px 30px;
  }

  .main-container {
    max-width: 1100px;
    margin: 0 auto;
    background: white;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    overflow: hidden;
    border: 3px solid #C62828; /* Borde rojo navideÃ±o */
  }

  /* --- 2. CABECERA (TÃ­tulos) --- */
  .header-section {
    background: #C62828;
    padding: 20px 10px 10px 10px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  /* DecoraciÃ³n dorada superior */
  .header-section::before {
    content: ''; position: absolute; top: 0; left: 0; right: 0; height: 8px;
    background: repeating-linear-gradient(45deg, #FFD700, #FFD700 10px, #FDB813 10px, #FDB813 20px);
  }

  /* SVG para texto curvado */
  .curved-title-svg {
    width: 100%;
    max-width: 500px;
    height: auto;
    margin: 0 auto;
    display: block;
    overflow: visible;
  }
  .curved-text-path {
      fill: transparent;
  }
  .curved-text {
      fill: white;
      font-family: 'Mountains of Christmas', cursive;
      font-weight: bold;
      font-size: 45px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
  }

  /* SubtÃ­tulo Llamativo */
  .subtitle-striking {
    font-family: 'Orbitron', sans-serif; /* Fuente tech/llamativa */
    color: #FFD700; /* Dorado */
    font-size: 1.5em;
    margin: 5px 0 15px 0;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 2px 2px 0px #7f0000;
  }
  
  /* --- 3. BARRA DE FILTRADO Y BÃšSQUEDA --- */
  .filter-bar {
    background-color: #fff;
    padding: 15px;
    border-bottom: 2px solid #eee;
    display: flex;
    gap: 15px;
    justify-content: center;
    flex-wrap: wrap; 
  }

  .filter-input-group {
    display: flex;
    flex-direction: column;
    flex: 1; 
    min-width: 200px; 
  }

  .filter-label {
    font-size: 0.85em;
    font-weight: bold;
    color: #C62828;
    margin-bottom: 5px;
  }

  .filter-control {
    padding: 10px;
    border: 2px solid #eee;
    border-radius: 8px;
    font-family: 'Quicksand', sans-serif;
    font-size: 0.95em;
    outline: none;
    transition: border-color 0.3s;
  }
  .filter-control:focus {
    border-color: #C62828;
  }

  /* --- 4. GRID DEL HORARIO (TABLA) --- */
  .schedule-grid {
    display: grid;
    /* 3 columnas fijas: Horario, Actividad, Lugar */
    grid-template-columns: 130px 1fr 1fr;
    width: 100%;
  }

  /* Encabezados del Grid */
  .grid-header {
    display: contents;
  }
  .grid-header-cell {
    background-color: #2E7D32; /* Verde Pino */
    color: white;
    padding: 15px;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 0.9em;
    border-right: 1px solid #1b5e20;
  }

  /* Filas de Datos (Gatillos del acordeÃ³n) */
  .grid-row-trigger {
    display: contents;
    cursor: pointer;
  }
  .grid-cell {
    padding: 15px;
    border-bottom: 1px solid #eee;
    border-right: 1px solid #eee;
    display: flex;
    align-items: center;
    background-color: #fff;
    transition: background-color 0.2s;
  }
  /* Efecto cebra y hover */
  .grid-row-trigger:hover .grid-cell { background-color: #FFF8E1 !important; }
  .schedule-grid > .grid-row-trigger:nth-of-type(4n+3) .grid-cell { background-color: #F1F8E9; }

  /* Estilos de contenido de celda */
  .time-badge { background-color: #C62828; color: white; padding: 5px 10px; border-radius: 15px; font-weight: bold; font-size: 0.85em; white-space: nowrap; }
  .activity-name { font-weight: 700; font-size: 1.05em; color: #333; }
  .place-name { color: #666; font-style: italic; }

  /* --- 5. PANEL DE DETALLES (ACORDEÃ“N) --- */
  .detail-panel {
    grid-column: 1 / -1; 
    background-color: #f9fbe7;
    border-bottom: 2px solid #C62828;
    max-height: 0; 
    overflow: hidden;
    transition: all 0.3s ease-out;
    opacity: 0;
  }
  .detail-panel.active {
    padding: 20px;
    max-height: 500px;
    opacity: 1;
    border-left: 5px solid #2E7D32;
  }
  .detail-content { padding-left: 15px; }
  .detail-item { margin-bottom: 10px; display: flex; align-items: center; flex-wrap: wrap;}
  .detail-icon { margin-right: 10px; font-size: 1.3em; }
  strong { color: #2E7D32; }

  /* Botones de Enlaces */
  .action-button {
    display: inline-block;
    margin-top: 10px;
    padding: 10px 20px;
    background-color: #C62828;
    color: white;
    text-decoration: none;
    border-radius: 25px;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    transition: transform 0.2s, background-color 0.2s;
    border: none; cursor: pointer;
  }
  .action-button:hover {
    background-color: #b71c1c;
    transform: translateY(-2px);
  }
  .map-button { background-color: #1976D2; }
  .map-button:hover { background-color: #1565C0; }

  /* --- 6. CLASE PARA FILTRADO --- */
  .filtered-out {
    display: none !important;
  }

  /* --- 7. RESPONSIVE (MÃ“VIL) --- */
  @media screen and (max-width: 768px) {
    .curved-text { font-size: 38px; }
    .filter-bar { flex-direction: column; gap: 10px; }
    .filter-input-group { min-width: 100%; }
    .schedule-grid { grid-template-columns: 1fr; }
    .grid-header { display: none; }
    
    .grid-cell {
        border-right: none;
        padding: 8px 15px;
    }
    .grid-row-trigger .grid-cell:first-child { padding-top: 15px; }
    .grid-row-trigger .grid-cell:last-child { padding-bottom: 15px; border-bottom: 2px solid #ddd; }
    .activity-name { font-size: 1.2em; }
  }
</style>
</head>
<body>

<div class="main-container">
  <div class="header-section">
    <svg class="curved-title-svg" viewBox="0 0 500 120" xmlns="http://www.w3.org/2000/svg">
        <path id="curvePath" d="M50,100 Q250,20 450,100" class="curved-text-path" />
        <text class="curved-text">
            <textPath xlink:href="#curvePath" startOffset="50%" text-anchor="middle">
                IES PIO BAROJA
            </textPath>
        </text>
    </svg>
    <h2 class="subtitle-striking">ğŸ„ Gran Fiesta de Navidad ğŸ…</h2>
    <div style="color: #fff; font-weight: bold;">Â¡Haz clic en las filas para ver detalles y enlaces!</div>
  </div>

  <div class="filter-bar">
    <div class="filter-input-group">
      <label class="filter-label" for="filter-time">Filtrar por Hora:</label>
      <select id="filter-time" class="filter-control">
        <option value="">Todas las horas</option>
      </select>
    </div>
    <div class="filter-input-group">
        <label class="filter-label" for="filter-activity">Buscar Actividad:</label>
        <input type="text" id="filter-activity" class="filter-control" placeholder="Ej: Kahoot, Baile...">
      </div>
    <div class="filter-input-group">
      <label class="filter-label" for="filter-place">Filtrar por Lugar:</label>
      <select id="filter-place" class="filter-control">
        <option value="">Todos los lugares</option>
      </select>
    </div>
  </div>

  <div class="schedule-grid" id="schedule-grid-container">
    <div class="grid-header">
      <div class="grid-header-cell">Horario</div>
      <div class="grid-header-cell">Actividad</div>
      <div class="grid-header-cell">Lugar</div>
    </div>

    <div class="grid-row-trigger js-filterable" data-time="09:00" data-place="Hall del ACE">
      <div class="grid-cell"><span class="time-badge">09:00 - 10:00</span></div>
      <div class="grid-cell"><span class="activity-name">â˜• Chocolatada</span></div>
      <div class="grid-cell"><span class="place-name">Hall del ACE</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
      <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>1Âº, 2Âº PPME JardinerÃ­a</strong></div>
    </div></div>

    <div class="grid-row-trigger js-filterable" data-time="09:30" data-place="Aula B.3">
      <div class="grid-cell"><span class="time-badge">09:30 - 10:30</span></div>
      <div class="grid-cell"><span class="activity-name">ğŸ•µï¸â€â™‚ï¸ Juego del Impostor</span></div>
      <div class="grid-cell"><span class="place-name">Aula B.3</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
       <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>1Âº DAW BilingÃ¼e</strong></div>
    </div></div>

    <div class="grid-row-trigger js-filterable" data-time="09:30" data-place="Gimnasio">
      <div class="grid-cell"><span class="time-badge">09:30 - 11:15</span></div>
      <div class="grid-cell"><span class="activity-name">ğŸŒŸ Got Talent (Festival)</span></div>
      <div class="grid-cell"><span class="place-name">Gimnasio</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
        <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>Ciclo TSEAS (1Âº y 2Âº)</strong></div>
    </div></div>

    <div class="grid-row-trigger js-filterable" data-time="09:30" data-place="Aula 2.6">
      <div class="grid-cell"><span class="time-badge">09:30 - 11:30</span></div>
      <div class="grid-cell"><span class="activity-name">ğŸ° Casino Online</span></div>
      <div class="grid-cell"><span class="place-name">Aula 2.6</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
        <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>1Âº DAM</strong></div>
    </div></div>

    <div class="grid-row-trigger js-filterable" data-time="10:00" data-place="Aula B.5">
      <div class="grid-cell"><span class="time-badge">10:00 - 10:30</span></div>
      <div class="grid-cell"><span class="activity-name">ğŸ¤ Batalla de Gallos</span></div>
      <div class="grid-cell"><span class="place-name">Aula B.5</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
      <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>2Âº SMR</strong></div>
      <div class="detail-item">Â¡Demuestra tu talento! InscrÃ­bete para participar.</div>
      <a href="https://forms.gle/VCT2gh9hTaQYD5fC7" target="_blank" class="action-button">ğŸ“ Formulario de InscripciÃ³n</a>
    </div></div>

    <div class="grid-row-trigger js-filterable" data-time="10:00" data-place="1.14">
      <div class="grid-cell"><span class="time-badge">10:00 - 12:00</span></div>
      <div class="grid-cell"><span class="activity-name">ğŸ·ï¸ Adivina la marca / TabÃº</span></div>
      <div class="grid-cell"><span class="place-name">Aula 1.14</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
        <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>2Âº CI</strong></div>
    </div></div>

     <div class="grid-row-trigger js-filterable" data-time="10:00" data-place="1.12">
        <div class="grid-cell"><span class="time-badge">10:00 - 12:00</span></div>
        <div class="grid-cell"><span class="activity-name">ğŸŒ Kahoot Viaje por el mundo</span></div>
        <div class="grid-cell"><span class="place-name">Aula 1.12</span></div>
      </div>
      <div class="detail-panel"><div class="detail-content">
          <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>1 CI</strong></div>
      </div></div>

    <div class="grid-row-trigger js-filterable" data-time="10:00" data-place="1.8">
      <div class="grid-cell"><span class="time-badge">10:00 - 12:00</span></div>
      <div class="grid-cell"><span class="activity-name">ğŸ•µï¸â€â™€ï¸ Juego El Impostor</span></div>
      <div class="grid-cell"><span class="place-name">Aula 1.8</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
        <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>2 GM Act. Comerciales</strong></div>
    </div></div>

    <div class="grid-row-trigger js-filterable" data-time="10:00" data-place="1.10">
        <div class="grid-cell"><span class="time-badge">10:00 - 12:00</span></div>
        <div class="grid-cell"><span class="activity-name">ğŸ™ˆ Juego Manos Ciegas</span></div>
        <div class="grid-cell"><span class="place-name">Aula 1.10</span></div>
      </div>
      <div class="detail-panel"><div class="detail-content">
          <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>1 GM Act. Comerciales</strong></div>
      </div></div>

    <div class="grid-row-trigger js-filterable" data-time="10:00" data-place="1.9 - 1.11">
      <div class="grid-cell"><span class="time-badge">10:00 - 12:00</span></div>
      <div class="grid-cell"><span class="activity-name">ğŸ¶ Karaoke</span></div>
      <div class="grid-cell"><span class="place-name">Aula 1.9 - 1.11</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
        <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>2 FB Serv. Comerciales</strong></div>
    </div></div>

    <div class="grid-row-trigger js-filterable" data-time="11:45" data-place="Calle Lateral">
      <div class="grid-cell"><span class="time-badge">11:45 - 12:30</span></div>
      <div class="grid-cell"><span class="activity-name">ğŸ‘‘ Cabalgata</span></div>
      <div class="grid-cell"><span class="place-name">Calle Lateral del Centro</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
      <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>Ciclo TSEAS</strong></div>
      <div class="detail-item">Â¡No te pierdas el gran desfile!</div>
      <a href="https://maps.app.goo.gl/nrKx5KtrSPZdWkKU6" target="_blank" class="action-button map-button">ğŸ“ Ver UbicaciÃ³n en Maps</a>
    </div></div>

    <div class="grid-row-trigger js-filterable" data-time="Varios" data-place="Gimnasio">
      <div class="grid-cell"><span class="time-badge" style="background-color: #2E7D32;">Durante la maÃ±ana</span></div>
      <div class="grid-cell"><span class="activity-name">ğŸ­ Actuaciones Varias (1-7)</span></div>
      <div class="grid-cell"><span class="place-name">Gimnasio</span></div>
    </div>
    <div class="detail-panel"><div class="detail-content">
      <div class="detail-item"><span class="detail-icon">ğŸ‘¥</span>Grupo: <strong>Ciclo TSEAS</strong></div>
      <div class="detail-item"><span class="detail-icon">â°</span>Estas actuaciones tendrÃ¡n lugar a lo largo de la maÃ±ana en el gimnasio, intercaladas con el festival principal.</div>
    </div></div>

  </div> </div> <script>
  document.addEventListener('DOMContentLoaded', function() {
    
    // 1. LOGICA DEL ACORDEÃ“N
    const triggers = document.querySelectorAll('.grid-row-trigger');
    triggers.forEach(trigger => {
      trigger.addEventListener('click', () => {
        // Opcional: Cerrar otros paneles al abrir uno nuevo
        const activeTriggers = document.querySelectorAll('.grid-row-trigger.active-row');
        activeTriggers.forEach(at => {
            if(at !== trigger) {
                at.classList.remove('active-row');
                at.nextElementSibling.classList.remove('active');
            }
        });

        const detailPanel = trigger.nextElementSibling;
        trigger.classList.toggle('active-row');
        detailPanel.classList.toggle('active');
      });
    });

    // 2. LÃ“GICA DE FILTRADO
    const filterTimeSelect = document.getElementById('filter-time');
    const filterActivityInput = document.getElementById('filter-activity');
    const filterPlaceSelect = document.getElementById('filter-place');
    const filterableRows = document.querySelectorAll('.js-filterable');

    function populateSelectors() {
        let times = new Set();
        let places = new Set();

        filterableRows.forEach(row => {
            times.add(row.getAttribute('data-time'));
            let placeText = row.querySelector('.grid-cell:nth-child(3) .place-name').textContent.trim();
            places.add(placeText);
        });

        times.forEach(time => {
            let option = document.createElement('option');
            option.value = time; option.textContent = time;
            filterTimeSelect.appendChild(option);
        });
        places.forEach(place => {
            let option = document.createElement('option');
            option.value = place.toLowerCase(); option.textContent = place;
            filterPlaceSelect.appendChild(option);
        });
    }

    function filterGrid() {
        const timeValue = filterTimeSelect.value;
        const activityValue = filterActivityInput.value.toLowerCase().trim();
        const placeValue = filterPlaceSelect.value;

        filterableRows.forEach(row => {
            const rowTime = row.getAttribute('data-time');
            const rowActivityText = row.querySelector('.grid-cell:nth-child(2)').textContent.toLowerCase();
            const rowPlaceText = row.querySelector('.grid-cell:nth-child(3)').textContent.toLowerCase().trim();
            const detailPanel = row.nextElementSibling;

            const matchesTime = timeValue === "" || rowTime === timeValue;
            const matchesActivity = activityValue === "" || rowActivityText.includes(activityValue);
            const matchesPlace = placeValue === "" || rowPlaceText.includes(placeValue);

            if (matchesTime && matchesActivity && matchesPlace) {
                row.classList.remove('filtered-out');
            } else {
                row.classList.add('filtered-out');
                row.classList.remove('active-row');
                detailPanel.classList.remove('active');
            }
        });
    }

    populateSelectors();
    filterTimeSelect.addEventListener('change', filterGrid);
    filterActivityInput.addEventListener('input', filterGrid);
    filterPlaceSelect.addEventListener('change', filterGrid);
  });
</script>

</body>
</html>